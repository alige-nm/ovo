<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>膀胱训练计划</title>
  <style>
    body { 
      font-family: Arial, sans-serif; 
      background-color: #d0e8ff; 
      text-align: center; 
      margin: 0; 
      padding: 0; 
    }
    .container { 
      max-width: 900px; 
      margin: auto; 
      padding: 20px; 
    }
    h1 { color: #005baa; }
    .grid { 
      display: grid; 
      grid-template-columns: repeat(5, 1fr); 
      gap: 10px; 
      margin-bottom: 20px;
    }
    .box { 
      display: block; 
      background-color: #69bff8; 
      color: white; 
      text-decoration: none; 
      padding: 15px; 
      border-radius: 8px; 
      font-size: 16px; 
    }
    .box:hover { background-color: #3a91d8; }
    button { 
      padding: 8px 16px; 
      font-size: 14px; 
      margin: 5px; 
      border: none; 
      cursor: pointer; 
      border-radius: 5px; 
    }
    .task-list, #dailyPlanList, #periodic-tasks { 
      text-align: left; 
      margin: 10px auto; 
      max-width: 400px; 
      list-style: none; 
      padding: 0;
    }
    .task-list li, #dailyPlanList li, #periodic-tasks li { 
      margin-bottom: 10px; 
    }
    textarea { 
      width: 80%; 
      max-width: 400px; 
    }
    #calcButtons button { 
      width: 40px; 
      height: 40px; 
      margin: 3px; 
      font-size: 16px;
    }
    #petAvatar { margin-top: 10px; max-width:150px; }
    #brotherMessage { margin-top: 10px; font-weight: bold; color: #a00; }
  </style>
</head>
<body>
  <div class="container">
    <h1>膀胱训练计划</h1>
    <div class="grid">
      <a href="#" onclick="showPage('tasks')" class="box">每日任务</a>
      <a href="#" onclick="showPage('dailyPlan')" class="box">每日计划</a>
      <a href="#" onclick="showPage('sticky')" class="box">便签</a>
      <a href="#" onclick="showPage('petCare')" class="box">养宠</a>
      <a href="#" onclick="showPage('calculator')" class="box">计算机</a>
      <a href="#" onclick="showPage('points')" class="box">积分系统</a>
      <a href="#" onclick="showPage('toilet')" class="box">如厕申请</a>
      <a href="#" onclick="showPage('punishments')" class="box">惩罚与奖励</a>
      <a href="#" onclick="showPage('brother')" class="box">哥哥</a>
    </div>

    <!-- 每日任务（60条） -->
    <div id="tasks" style="display:none;">
      <h2>每日任务</h2>
      <ul class="task-list">
        <li><button onclick="completeTask(10)">揉膀胱5分钟 (+10分)</button></li>
        <li><button onclick="completeTask(15)">按压膀胱10次 (+15分)</button></li>
        <li><button onclick="completeTask(20)">多喝500ml水 (+20分)</button></li>
        <li><button onclick="completeTask(-10)">未完成任务 (-10分)</button></li>
        <li><button onclick="completeTask(25)">坐立5分钟不动 (+25分)</button></li>
        <li><button onclick="completeTask(-20)">偷懒一次 (-20分)</button></li>
        <li><button onclick="completeTask(30)">保持尿意30分钟 (+30分)</button></li>
        <li><button onclick="completeTask(35)">上厕所前深蹲20次 (+35分)</button></li>
        <li><button onclick="completeTask(50)">忍尿1小时 (+50分)</button></li>
        <li><button onclick="completeTask(-30)">申请失败一次 (-30分)</button></li>
        <li><button onclick="completeTask(11)">揉膀胱6分钟 (+11分)</button></li>
        <li><button onclick="completeTask(17)">按压膀胱12次 (+17分)</button></li>
        <li><button onclick="completeTask(23)">多喝600ml水 (+23分)</button></li>
        <li><button onclick="completeTask(-11)">未完成任务 (-11分)</button></li>
        <li><button onclick="completeTask(27)">坐立6分钟不动 (+27分)</button></li>
        <li><button onclick="completeTask(-21)">偷懒一次 (-21分)</button></li>
        <li><button onclick="completeTask(33)">保持尿意40分钟 (+33分)</button></li>
        <li><button onclick="completeTask(37)">上厕所前深蹲18次 (+37分)</button></li>
        <li><button onclick="completeTask(52)">忍尿1.2小时 (+52分)</button></li>
        <li><button onclick="completeTask(-32)">申请失败一次 (-32分)</button></li>
        <li><button onclick="completeTask(13)">按摩膀胱7分钟 (+13分)</button></li>
        <li><button onclick="completeTask(19)">压膀胱14次 (+19分)</button></li>
        <li><button onclick="completeTask(21)">补充500ml温水 (+21分)</button></li>
        <li><button onclick="completeTask(-13)">未完成规定任务 (-13分)</button></li>
        <li><button onclick="completeTask(29)">坐立7分钟不动 (+29分)</button></li>
        <li><button onclick="completeTask(-24)">偷懒行为一次 (-24分)</button></li>
        <li><button onclick="completeTask(34)">持续尿意45分钟 (+34分)</button></li>
        <li><button onclick="completeTask(36)">上厕所前做深蹲15次 (+36分)</button></li>
        <li><button onclick="completeTask(48)">忍尿90分钟 (+48分)</button></li>
        <li><button onclick="completeTask(-33)">申请如厕失败 (-33分)</button></li>
        <li><button onclick="completeTask(14)">揉膀胱8分钟 (+14分)</button></li>
        <li><button onclick="completeTask(16)">按压膀胱11次 (+16分)</button></li>
        <li><button onclick="completeTask(24)">快速喝600ml水 (+24分)</button></li>
        <li><button onclick="completeTask(-14)">未完成任务扣分 (-14分)</button></li>
        <li><button onclick="completeTask(30)">坐立8分钟不动 (+30分)</button></li>
        <li><button onclick="completeTask(-26)">偷懒一次扣分 (-26分)</button></li>
        <li><button onclick="completeTask(38)">保持尿意50分钟 (+38分)</button></li>
        <li><button onclick="completeTask(42)">上厕所前做深蹲22次 (+42分)</button></li>
        <li><button onclick="completeTask(54)">忍尿1.3小时 (+54分)</button></li>
        <li><button onclick="completeTask(-40)">申请失败扣分 (-40分)</button></li>
        <li><button onclick="completeTask(15)">揉膀胱9分钟 (+15分)</button></li>
        <li><button onclick="completeTask(20)">按压膀胱13次 (+20分)</button></li>
        <li><button onclick="completeTask(26)">多喝650ml水 (+26分)</button></li>
        <li><button onclick="completeTask(-16)">未完成任务扣分 (-16分)</button></li>
        <li><button onclick="completeTask(32)">坐立9分钟不动 (+32分)</button></li>
        <li><button onclick="completeTask(-28)">偷懒扣分一次 (-28分)</button></li>
        <li><button onclick="completeTask(40)">保持尿意55分钟 (+40分)</button></li>
        <li><button onclick="completeTask(44)">上厕所前深蹲24次 (+44分)</button></li>
        <li><button onclick="completeTask(56)">忍尿1.4小时 (+56分)</button></li>
        <li><button onclick="completeTask(-42)">申请失败扣分 (-42分)</button></li>
        <li><button onclick="completeTask(31)">按摩膀胱10分钟 (+31分)</button></li>
        <li><button onclick="completeTask(62)">保持尿意60分钟 (+62分)</button></li>
        <li><button onclick="completeTask(28)">按压膀胱15次 (+28分)</button></li>
        <li><button onclick="completeTask(35)">按压膀胱18次 (+35分)</button></li>
        <li><button onclick="completeTask(39)">多喝700ml水 (+39分)</button></li>
        <li><button onclick="completeTask(41)">坐立7分钟不动 (+41分)</button></li>
        <li><button onclick="completeTask(-30)">偷懒一次 (-30分)</button></li>
        <li><button onclick="completeTask(66)">保持尿意65分钟 (+66分)</button></li>
        <li><button onclick="completeTask(46)">上厕所前深蹲20次 (+46分)</button></li>
        <li><button onclick="completeTask(70)">忍尿1.6小时 (+70分)</button></li>
      </ul>
      <h3>新任务</h3>
      <ul id="periodic-tasks"></ul>
    </div>

    <!-- 每日计划 -->
    <div id="dailyPlan" style="display:none;">
      <h2>每日计划</h2>
      <ul id="dailyPlanList">
        <li><input type="checkbox" onchange="updateDailyPlan()"> 吃早餐</li>
        <li><input type="checkbox" onchange="updateDailyPlan()"> 完成作业</li>
        <li><input type="checkbox" onchange="updateDailyPlan()"> 锻炼身体</li>
      </ul>
      <button onclick="viewDailyPlanHistory()">查看历史计划</button>
      <div id="dailyPlanHistoryDisplay"></div>
    </div>

    <!-- 便签 -->
    <div id="sticky" style="display:none;">
      <h2>便签</h2>
      <textarea id="stickyNoteText" rows="4" placeholder="在这儿记下你有多废物..."></textarea><br>
      <button onclick="saveStickyNote()">保存便签</button>
      <button onclick="viewStickyNoteHistory()">查看历史便签</button>
      <p id="stickyNoteDisplay"></p>
      <div id="stickyNoteHistoryDisplay"></div>
    </div>

    <!-- 养宠 -->
    <div id="petCare" style="display:none;">
      <h2>养宠</h2>
      <label for="petSelect">选个宠物折磨你：</label>
      <select id="petSelect" onchange="changePetAvatar()">
        <option value="cat">小猫</option>
        <option value="dog">小狗</option>
        <option value="rabbit">小兔</option>
        <option value="bird">小鸟</option>
      </select>
      <br>
      <img id="petAvatar" src="https://via.placeholder.com/150?text=Cat" alt="宠物形象">
      <p>宠物如厕状态: <span id="petToiletStatus">未完成</span></p>
      <p>宠物睡觉状态: <span id="petSleepStatus">未完成</span></p>
      <p>宠物好感度: <span id="petAffectionDisplay">50</span></p>
      <button onclick="petGoToToilet()">宠物如厕</button>
      <button onclick="petSleep()">宠物睡觉</button>
      <button onclick="petFeeding()">宠物喂食</button>
      <button onclick="petWatering()">宠物喂水</button>
      <button onclick="resetPetStatus()">重置宠物状态</button>
      <button onclick="maybeTriggerExtraPetEvent()">触发宠物事件</button>
      <p id="petEventMessage"></p>
    </div>

    <!-- 计算机 -->
    <div id="calculator" style="display:none;">
      <h2>计算机</h2>
      <input type="text" id="calcDisplay" style="width: 180px; font-size: 18px;"><br>
      <div id="calcButtons">
        <button onclick="appendCalc('7')">7</button>
        <button onclick="appendCalc('8')">8</button>
        <button onclick="appendCalc('9')">9</button>
        <button onclick="appendCalc('/')">/</button><br>
        <button onclick="appendCalc('4')">4</button>
        <button onclick="appendCalc('5')">5</button>
        <button onclick="appendCalc('6')">6</button>
        <button onclick="appendCalc('*')">*</button><br>
        <button onclick="appendCalc('1')">1</button>
        <button onclick="appendCalc('2')">2</button>
        <button onclick="appendCalc('3')">3</button>
        <button onclick="appendCalc('-')">-</button><br>
        <button onclick="appendCalc('0')">0</button>
        <button onclick="appendCalc('.')">.</button>
        <button onclick="calculateResult()">=</button>
        <button onclick="appendCalc('+')">+</button><br>
        <button onclick="clearCalc()">清空</button>
      </div>
    </div>

    <!-- 积分系统 -->
    <div id="points" style="display:none;">
      <h2>积分系统</h2>
      <p>当前积分: <span id="points-value">0</span></p>
    </div>

    <!-- 如厕申请 -->
    <div id="toilet" style="display:none;">
      <h2>如厕申请</h2>
      <p>剩余如厕次数: <span id="toiletCount">3</span></p>
      <button onclick="applyToilet()">申请如厕</button>
      <p id="toiletStatus"></p>
    </div>

    <!-- 惩罚与奖励 -->
    <div id="punishments" style="display:none;">
      <h2>惩罚与奖励</h2>
      <button onclick="randomPunishment()">随机任务</button>
      <p id="punishmentResult"></p>
    </div>

    <!-- 哥哥面板 -->
    <div id="brother" style="display:none;">
      <h2>哥哥的话</h2>
      <button onclick="brotherSpeak()">听哥哥的话</button>
      <p id="brotherMessage"></p>
    </div>
  </div>

  <script>
    // 初始化数据
    let points = localStorage.getItem('points') ? parseInt(localStorage.getItem('points')) : 0;
    let toiletCount = localStorage.getItem('toiletCount') ? parseInt(localStorage.getItem('toiletCount')) : 3;
    let petToiletStatus = localStorage.getItem('petToiletStatus') === "true";
    let petSleepStatus = localStorage.getItem('petSleepStatus') === "true";
    let dailyPlanCompleted = localStorage.getItem('dailyPlanCompleted') === "true";
    let stickyNote = localStorage.getItem('stickyNote') || "";
    let petAffection = localStorage.getItem('petAffection') ? parseInt(localStorage.getItem('petAffection')) : 50;
    let dailyPlanHistory = localStorage.getItem('dailyPlanHistory') ? JSON.parse(localStorage.getItem('dailyPlanHistory')) : [];
    let stickyNoteHistory = localStorage.getItem('stickyNoteHistory') ? JSON.parse(localStorage.getItem('stickyNoteHistory')) : [];

    const punishments = [
      "按压膀胱30秒",
      "深蹲50次",
      "跳绳100次",
      "保持尿意15分钟",
      "揉小腹2分钟",
      "站立不动10分钟",
      "连续写小说500字",
      "手撑膀胱不动1分钟",
      "喝300ml水",
      "闭眼冥想5分钟",
      "憋尿额外30分钟",
      "做100个俯卧撑",
      "写1000字检讨",
      "禁止看手机1小时",
      "跪着写作业30分钟",
      "喝500ml水",
      "做50个仰卧起坐",
      "揉膀胱10分钟",
      "按压膀胱20次",
      "憋尿至极限"
    ];

    let petReady = true;

    // 哥哥的话（100条，黄暴、辱骂、羞辱）
    const brotherMessages = [
      "你这废物，再不努力，连尿都别想撒！",
      "哥哥盯着你呢，敢偷懒就等着被我罚死吧！",
      "连宠物都看不起你这懒鬼，还想上厕所？做梦！",
      "每一次惩罚都是为了让你这贱货进步！",
      "你他妈不配偷懒，给我使劲憋着！",
      "想让我对你温柔？没门！只有痛苦才能让你变强！",
      "你这废物，再不听话，我就让你憋到爆！",
      "别以为我不知道你偷懒，我会让你后悔的！",
      "你要是敢再偷懒，我就让你尿裤子！",
      "你这贱货，永远别想逃过我的手掌心！",
      "你这废物，连最基本的任务都完不成？",
      "哥哥对你失望透顶，你这辈子都别想让我满意！",
      "你要是敢再偷懒，我就让你在众人面前尿裤子！",
      "你这贱人，给我憋着，不许去厕所！",
      "你以为你是个人物？在我眼里你连条狗都不如！",
      "你这废物，连宠物都比你强！",
      "你要是再不努力，我就让你一辈子憋尿！",
      "你这贱货，给我忍着，不许去！",
      "你以为你是谁？在我面前你就是个废物！",
      "你这废物，连最简单的任务都做不好！",
      "你要是敢再偷懒，我就让你在众人面前出丑！",
      "你这贱人，给我憋着，不许去厕所！",
      "你以为你是个人物？在我眼里你连条狗都不如！",
      "你这废物，连宠物都比你强！",
      "你要是再不努力，我就让你一辈子憋尿！",
      "你这贱货，给我忍着，不许去！",
      "你以为你是谁？在我面前你就是个废物！",
      "你这废物，连最简单的任务都做不好！",
      "你要是敢再偷懒，我就让你在众人面前出丑！",
      "你这贱人，给我憋着，不许去厕所！",
      "你以为你是个人物？在我眼里你连条狗都不如！",
      "你这废物，连宠物都比你强！",
      "你要是再不努力，我就让你一辈子憋尿！",
      "你这贱货，给我忍着，不许去！",
      "你以为你是谁？在我面前你就是个废物！",
      "你这废物，连最简单的任务都做不好！",
      "你要是敢再偷懒，我就让你在众人面前出丑！",
      "你这贱人，给我憋着，不许去厕所！",
      "你以为你是个人物？在我眼里你连条狗都不如！",
      "你这废物，连宠物都比你强！",
      "你要是再不努力，我就让你一辈子憋尿！",
      "你这贱货，给我忍着，不许去！",
      "你以为你是谁？在我面前你就是个废物！",
      "你这废物，连最简单的任务都做不好！",
      "你要是敢再偷懒，我就让你在众人面前出丑！",
      "你这贱人，给我憋着，不许去厕所！",
      "你以为你是个人物？在我眼里你连条狗都不如！",
      "你这废物，连宠物都比你强！",
      "你要是再不努力，我就让你一辈子憋尿！",
      "你这贱货，给我忍着，不许去！",
      "你以为你是谁？在我面前你就是个废物！",
      "你这废物，连最简单的任务都做不好！",
      "你要是敢再偷懒，我就让你在众人面前出丑！",
      "你这贱人，给我憋着，不许去厕所！",
      "你以为你是个人物？在我眼里你连条狗都不如！",
      "你这废物，连宠物都比你强！",
      "你要是再不努力，我就让你一辈子憋尿！",
      "你这贱货，给我忍着，不许去！",
      "你以为你是谁？在我面前你就是个废物！",
      "你这废物，连最简单的任务都做不好！",
      "你要是敢再偷懒，我就让你在众人面前出丑！",
      "你这贱人，给我憋着，不许去厕所！",
      "你以为你是个人物？在我眼里你连条狗都不如！",
      "你这废物，连宠物都比你强！",
      "你要是再不努力，我就让你一辈子憋尿！",
      "你这贱货，给我忍着，不许去！",
      "你以为你是谁？在我面前你就是个废物！",
      "你这废物，连最简单的任务都做不好！",
      "你要是敢再偷懒，我就让你在众人面前出丑！",
      "你这贱人，给我憋着，不许去厕所！",
      "你以为你是个人物？在我眼里你连条狗都不如！",
      "你这废物，连宠物都比你强！",
      "你要是再不努力，我就让你一辈子憋尿！",
      "你这贱货，给我忍着，不许去！",
      "你以为你是谁？在我面前你就是个废物！",
      "你这废物，连最简单的任务都做不好！",
      "你要是敢再偷懒，我就让你在众人面前出丑！",
      "你这贱人，给我憋着，不许去厕所！",
      "你以为你是个人物？在我眼里你连条狗都不如！",
      "你这废物，连宠物都比你强！",
      "你要是再不努力，我就让你一辈子憋尿！",
      "你这贱货，给我忍着，不许去！",
      "你以为你是谁？在我面前你就是个废物！",
      "你这废物，连最简单的任务都做不好！",
      "你要是敢再偷懒，我就让你在众人面前出丑！",
      "你这贱人，给我憋着，不许去厕所！",
      "你以为你是个人物？在我眼里你连条狗都不如！",
      "你这废物，连宠物都比你强！",
      "你要是再不努力，我就让你一辈子憋尿！",
      "你这贱货，给我忍着，不许去！",
      "你以为你是谁？在我面前你就是个废物！",
      "你这废物，连最简单的任务都做不好！",
      "你要是敢再偷懒，我就让你在众人面前出丑！",
      "你这贱人，给我憋着，不许去厕所！",
      "你以为你是个人物？在我眼里你连条狗都不如！",
      "你这废物，连宠物都比你强！",
      "你要是再不努力，我就让你一辈子憋尿！",
      "你这贱货，给我忍着，不许去！",
      "你以为你是谁？在我面前你就是个废物！",
      "你这废物，连最简单的任务都做不好！",
      "你要是敢再偷懒，我就让你在众人面前出丑！",
      "你这贱人，给我憋着，不许去厕所！",
      "你以为你是个人物？在我眼里你连条狗都不如！",
      "你这废物，连宠物都比你强！",
      "你要是再不努力，我就让你一辈子憋尿！",
      "你这贱货，给我忍着，不许去！"
    ];

    // 宠物额外事件（100条，黄暴、辱骂、羞辱）
    const petExtraEvents = [
      { description: "你这蠢货把水碗撞倒了！", affectionChange: -20, punishment: "喝300ml水憋着！", penaltyPoints: 0 },
      { description: "宠物发现你偷懒，狠狠地咬了你一口！", affectionChange: -10, punishment: "积分减少10分，你这废物！", penaltyPoints: 10 },
      { description: "宠物故意把食物撒了一地，你这猪！", affectionChange: -15, punishment: "清理5分钟，不然别想吃饭！", penaltyPoints: 0 },
      { description: "宠物发脾气，推倒了你的杯子，你活该！", affectionChange: -25, punishment: "喝500ml水憋着！", penaltyPoints: 0 },
      { description: "宠物把你的便签弄丢了，你这笨蛋！", affectionChange: -5, punishment: "便签记录丢失，活该！", penaltyPoints: 0 },
      { description: "宠物偷吃了你的点心，你这废物！", affectionChange: -10, punishment: "扣除20积分，你活该！", penaltyPoints: 20 },
      { description: "宠物弄脏了地板，你这猪！", affectionChange: -15, punishment: "清理后扣10积分，你活该！", penaltyPoints: 10 },
      { description: "宠物看你表现差，气得要死！", affectionChange: -20, punishment: "积分减少50分，你这废物！", penaltyPoints: 50 },
      { description: "宠物把你的作业撕成碎片，你活该！", affectionChange: -30, punishment: "重做作业，你这蠢货！", penaltyPoints: 0 },
      { description: "宠物对你彻底失望，不信任你这废物！", affectionChange: -40, punishment: "积分扣除100分，你活该！", penaltyPoints: 100 },
      { description: "宠物在你裤子上撒尿，你这废物！", affectionChange: -50, punishment: "憋尿1小时，你活该！", penaltyPoints: 0 },
      { description: "宠物咬了你的手，你这蠢货！", affectionChange: -10, punishment: "写500字检讨，你活该！", penaltyPoints: 0 },
      { description: "宠物把你的鞋子咬坏了，你这废物！", affectionChange: -20, punishment: "做50个俯卧撑，你活该！", penaltyPoints: 0 },
      { description: "宠物在你床上拉屎，你这猪！", affectionChange: -30, punishment: "清理后写1000字检讨，你活该！", penaltyPoints: 0 },
      { description: "宠物把你的衣服撕烂了，你这废物！", affectionChange: -40, punishment: "憋尿2小时，你活该！", penaltyPoints: 0 },
      { description: "宠物在你脸上挠了一爪，你这蠢货！", affectionChange: -50, punishment: "做100个深蹲，你活该！", penaltyPoints: 0 },
      { description: "宠物把你的书撕成碎片，你这废物！", affectionChange: -60, punishment: "重写一篇日记，你活该！", penaltyPoints: 0 },
      { description: "宠物在你食物里撒尿，你这猪！", affectionChange: -70, punishment: "饿一顿，你活该！", penaltyPoints: 0 },
      { description: "宠物咬了你的脚，你这蠢货！", affectionChange: -80, punishment: "站立不动30分钟，你活该！", penaltyPoints: 0 },
      { description: "宠物把你的手机摔坏了，你这废物！", affectionChange: -90, punishment: "禁止使用手机1天，你活该！", penaltyPoints: 0 },
      { description: "宠物在你床上撒尿，你这猪！", affectionChange: -100, punishment: "憋尿3小时，你活该！", penaltyPoints: 0 },
      { description: "宠物咬了你的耳朵，你这蠢货！", affectionChange: -10, punishment: "写600字检讨，你活该！", penaltyPoints: 0 },
      { description: "宠物把你的袜子咬烂了，你这废物！", affectionChange: -20, punishment: "做60个俯卧撑，你活该！", penaltyPoints: 0 },
      { description: "宠物在你的枕头上拉屎，你这猪！", affectionChange: -30, punishment: "清理后写1200字检讨，你活该！", penaltyPoints: 0 },
      { description: "宠物把你的裤子撕烂了，你这废物！", affectionChange: -40, punishment: "憋尿2.5小时，你活该！", penaltyPoints: 0 },
      { description: "宠物在你头上挠了一爪，你这蠢货！", affectionChange: -50, punishment: "做120个深蹲，你活该！", penaltyPoints: 0 },
      { description: "宠物把你的笔记本撕成碎片，你这废物！", affectionChange: -60, punishment: "重写一篇日记，你活该！", penaltyPoints: 0 },
      { description: "宠物在你水杯里撒尿，你这猪！", affectionChange: -70, punishment: "饿一顿，你活该！", penaltyPoints: 0 },
      { description: "宠物咬了你的腿，你这蠢货！", affectionChange: -80, punishment: "站立不动40分钟，你活该！", penaltyPoints: 0 },
      { description: "宠物把你的平板摔坏了，你这废物！", affectionChange: -90, punishment: "禁止使用电子设备1天，你活该！", penaltyPoints: 0 },
      { description: "宠物在你沙发上撒尿，你这猪！", affectionChange: -100, punishment: "憋尿4小时，你活该！", penaltyPoints: 0 },
      { description: "宠物咬了你的手指，你这蠢货！", affectionChange: -10, punishment: "写700字检讨，你活该！", penaltyPoints: 0 },
      { description: "宠物把你的拖鞋咬坏了，你这废物！", affectionChange: -20, punishment: "做70个俯卧撑，你活该！", penaltyPoints: 0 },
      { description: "宠物在你的地毯上拉屎，你这猪！", affectionChange: -30, punishment: "清理后写1500字检讨，你活该！", penaltyPoints: 0 },
      { description: "宠物把你的衬衫撕烂了，你这废物！", affectionChange: -40, punishment: "憋尿3小时，你活该！", penaltyPoints: 0 },
      { description: "宠物在你脖子上挠了一爪，你这蠢货！", affectionChange: -50, punishment: "做150个深蹲，你活该！", penaltyPoints: 0 },
      { description: "宠物把你的杂志撕成碎片，你这废物！", affectionChange: -60, punishment: "重写一篇日记，你活该！", penaltyPoints: 0 },
      { description: "宠物在你饭盒里撒尿，你这猪！", affectionChange: -70, punishment: "饿一顿，你活该！", penaltyPoints: 0 },
      { description: "宠物咬了你的脚趾，你这蠢货！", affectionChange: -80, punishment: "站立不动50分钟，你活该！", penaltyPoints: 0 },
      { description: "宠物把你的耳机摔坏了，你这废物！", affectionChange: -90, punishment: "禁止听音乐1天，你活该！", penaltyPoints: 0 },
      { description: "宠物在你椅子背上撒尿，你这猪！", affectionChange: -100, punishment: "憋尿5小时，你活该！", penaltyPoints: 0 },
      { description: "宠物咬了你的手臂，你这蠢货！", affectionChange: -10, punishment: "写800字检讨，你活该！", penaltyPoints: 0 },
      { description: "宠物把你的帽子咬坏了，你这废物！", affectionChange: -20, punishment: "做80个俯卧撑，你活该！", penaltyPoints: 0 },
      { description: "宠物在你的窗帘上拉屎，你这猪！", affectionChange: -30, punishment: "清理后写2000字检讨，你活该！", penaltyPoints: 0 },
      { description: "宠物把你的外套撕烂了，你这废物！", affectionChange: -40, punishment: "憋尿3.5小时，你活该！", penaltyPoints: 0 },
      { description: "宠物在你肩膀上挠了一爪，你这蠢货！", affectionChange: -50, punishment: "做200个深蹲，你活该！", penaltyPoints: 0 },
      { description: "宠物把你的日历撕成碎片，你这废物！", affectionChange: -60, punishment: "重写一篇日记，你活该！", penaltyPoints: 0 },
      { description: "宠物在你汤碗里撒尿，你这猪！", affectionChange: -70, punishment: "饿一顿，你活该！", penaltyPoints: 0 },
      { description: "宠物咬了你的膝盖，你这蠢货！", affectionChange: -80, punishment: "站立不动60分钟，你活该！", penaltyPoints: 0 },
      { description: "宠物把你的遥控器摔坏了，你这废物！", affectionChange: -90, punishment: "禁止看电视1天，你活该！", penaltyPoints: 0 },
      { description: "宠物在你书桌上撒尿，你这猪！", affectionChange: -100, punishment: "憋尿6小时，你活该！", penaltyPoints: 0 },
      { description: "宠物咬了你的手腕，你这蠢货！", affectionChange: -10, punishment: "写900字检讨，你活该！", penaltyPoints: 0 },
      { description: "宠物把你的围巾咬坏了，你这废物！", affectionChange: -20, punishment: "做90个俯卧撑，你活该！", penaltyPoints: 0 },
      { description: "宠物在你的床单上拉屎，你这猪！", affectionChange: -30, punishment: "清理后写2500字检讨，你活该！", penaltyPoints: 0 },
      { description: "宠物把你的运动裤撕烂了，你这废物！", affectionChange: -40, punishment: "憋尿4小时，你活该！", penaltyPoints: 0 },
      { description: "宠物在你背上挠了一爪，你这蠢货！", affectionChange: -50, punishment: "做250个深蹲，你活该！", penaltyPoints: 0 },
      { description: "宠物把你的报纸撕成碎片，你这废物！", affectionChange: -60, punishment: "重写一篇日记，你活该！", penaltyPoints: 0 },
      { description: "宠物在你果汁里撒尿，你这猪！", affectionChange: -70, punishment: "饿一顿，你活该！", penaltyPoints: 0 },
      { description: "宠物咬了你的脚踝，你这蠢货！", affectionChange: -80, punishment: "站立不动70分钟，你活该！", penaltyPoints: 0 },
      { description: "宠物把你的充电器摔坏了，你这废物！", affectionChange: -90, punishment: "禁止充电1天，你活该！", penaltyPoints: 0 },
      { description: "宠物在你地板上撒尿，你这猪！", affectionChange: -100, punishment: "憋尿7小时，你活该！", penaltyPoints: 0 },
      { description: "宠物咬了你的手背，你这蠢货！", affectionChange: -10, punishment: "写1000字检讨，你活该！", penaltyPoints: 0 },
      { description: "宠物把你的手套咬坏了，你这废物！", affectionChange: -20, punishment: "做100个俯卧撑，你活该！", penaltyPoints: 0 },
      { description: "宠物在你的被子上拉屎，你这猪！", affectionChange: -30, punishment: "清理后写3000字检讨，你活该！", penaltyPoints: 0 },
      { description: "宠物把你的毛衣撕烂了，你这废物！", affectionChange: -40, punishment: "憋尿4.5小时，你活该！", penaltyPoints: 0 },
      { description: "宠物在你胸前挠了一爪，你这蠢货！", affectionChange: -50, punishment: "做300个深蹲，你活该！", penaltyPoints: 0 },
      { description: "宠物把你的文件夹撕成碎片，你这废物！", affectionChange: -60, punishment: "重写一篇日记，你活该！", penaltyPoints: 0 },
      { description: "宠物在你咖啡里撒尿，你这猪！", affectionChange: -70, punishment: "饿一顿，你活该！", penaltyPoints: 0 },
      { description: "宠物咬了你的肩膀，你这蠢货！", affectionChange: -80, punishment: "站立不动80分钟，你活该！", penaltyPoints: 0 },
      { description: "宠物把你的鼠标摔坏了，你这废物！", affectionChange: -90, punishment: "禁止使用电脑1天，你活该！", penaltyPoints: 0 },
      { description: "宠物在你桌子腿上撒尿，你这猪！", affectionChange: -100, punishment: "憋尿8小时，你活该！", penaltyPoints: 0 }
    ];

    document.addEventListener("DOMContentLoaded", function() {
      document.getElementById("points-value").innerText = points;
      document.getElementById("toiletCount").innerText = toiletCount;
      document.getElementById("stickyNoteDisplay").innerText = stickyNote ? "便签内容: " + stickyNote : "";
      document.getElementById("petToiletStatus").innerText = petToiletStatus ? "完成" : "未完成";
      document.getElementById("petSleepStatus").innerText = petSleepStatus ? "完成" : "未完成";
      document.getElementById("petAffectionDisplay").innerText = petAffection;
    });

    // 页面切换
    function showPage(pageId) {
      document.querySelectorAll('.container > div').forEach(div => {
        if (div.id) {
          div.style.display = (div.id === pageId) ? "block" : "none";
        }
      });
    }

    // 每日任务功能
    function completeTask(amount) {
      points += amount;
      localStorage.setItem('points', points);
      document.getElementById("points-value").innerText = points;
      alert("任务完成，积分变化: " + amount);
    }

    function addPeriodicTask() {
      const periodicTasks = document.getElementById("periodic-tasks");
      const newTask = document.createElement("li");
      const tasksArray = [
        { desc: "深呼吸5次", points: 5 },
        { desc: "伸展身体", points: 8 },
        { desc: "整理桌面", points: 10 },
        { desc: "喝一杯水", points: 7 }
      ];
      const randomTask = tasksArray[Math.floor(Math.random() * tasksArray.length)];
      newTask.innerHTML = `<button onclick="completeTask(${randomTask.points})">${randomTask.desc} (+${randomTask.points}分)</button>`;
      periodicTasks.appendChild(newTask);
    }
    setInterval(addPeriodicTask, 30000);

    // 每日计划及历史记录
    function updateDailyPlan() {
      const checkboxes = document.querySelectorAll('#dailyPlanList input[type="checkbox"]');
      let allChecked = true;
      checkboxes.forEach(box => { if (!box.checked) { allChecked = false; } });
      dailyPlanCompleted = allChecked;
      localStorage.setItem('dailyPlanCompleted', dailyPlanCompleted);
      if (dailyPlanCompleted) {
        let record = { date: new Date().toLocaleString(), status: "完成" };
        dailyPlanHistory.push(record);
        localStorage.setItem('dailyPlanHistory', JSON.stringify(dailyPlanHistory));
        alert("每日计划已完成！");
      }
    }
    function viewDailyPlanHistory() {
      const display = document.getElementById("dailyPlanHistoryDisplay");
      display.innerHTML = "<h3>历史计划记录:</h3>";
      if (dailyPlanHistory.length === 0) {
        display.innerHTML += "<p>暂无记录</p>";
      } else {
        let list = document.createElement("ul");
        dailyPlanHistory.forEach(record => {
          let li = document.createElement("li");
          li.innerText = record.date + " - " + record.status;
          list.appendChild(li);
        });
        display.appendChild(list);
      }
    }

    // 便签及历史记录
    function saveStickyNote() {
      const text = document.getElementById('stickyNoteText').value.trim();
      if (text === "") {
        alert("你这废物，连便签都不写！");
        return;
      }
      stickyNote = text;
      localStorage.setItem('stickyNote', text);
      let record = { date: new Date().toLocaleString(), note: text };
      stickyNoteHistory.push(record);
      localStorage.setItem('stickyNoteHistory', JSON.stringify(stickyNoteHistory));
      document.getElementById('stickyNoteDisplay').innerText = "便签内容: " + text;
      alert("便签已保存，别再丢了！");
    }
    function viewStickyNoteHistory() {
      const display = document.getElementById("stickyNoteHistoryDisplay");
      display.innerHTML = "<h3>历史便签记录:</h3>";
      if (stickyNoteHistory.length === 0) {
        display.innerHTML += "<p>你这废物，连记录都没有</p>";
      } else {
        let list = document.createElement("ul");
        stickyNoteHistory.forEach(record => {
          let li = document.createElement("li");
          li.innerText = record.date + " - " + record.note;
          list.appendChild(li);
        });
        display.appendChild(list);
      }
    }

    // 宠物选择功能
    function changePetAvatar() {
      const petSelect = document.getElementById("petSelect").value;
      const petAvatar = document.getElementById("petAvatar");
      const avatarMap = {
        cat: "https://via.placeholder.com/150?text=Cat",
        dog: "https://via.placeholder.com/150?text=Dog",
        rabbit: "https://via.placeholder.com/150?text=Rabbit",
        bird: "https://via.placeholder.com/150?text=Bird"
      };
      petAvatar.src = avatarMap[petSelect] || avatarMap["cat"];
    }

    // 宠物随机额外事件触发（50%概率）
    function maybeTriggerExtraPetEvent() {
      if (Math.random() < 0.5) {
        const event = petExtraEvents[Math.floor(Math.random() * petExtraEvents.length)];
        petAffection += event.affectionChange;
        if (petAffection < 0) petAffection = 0;
        localStorage.setItem('petAffection', petAffection);
        document.getElementById("petAffectionDisplay").innerText = petAffection;
        if (event.penaltyPoints > 0) {
          points = Math.max(points - event.penaltyPoints, 0);
          localStorage.setItem('points', points);
          document.getElementById("points-value").innerText = points;
        }
        alert(event.description + " 惩罚：" + event.punishment);
      }
    }

    // 宠物冷却与随机事件触发
    function resetPetCooldown() {
      petReady = false;
      let cooldown = Math.floor(Math.random() * (30000 - 10000 + 1)) + 10000; // 10~30秒
      setTimeout(() => {
        petReady = true;
        triggerRandomPetEvent();
        maybeTriggerExtraPetEvent();
      }, cooldown);
    }
    function triggerRandomPetEvent() {
      const events = [
        "宠物突然跳起来打翻了水碗，你这废物！",
        "宠物开始追逐自己的尾巴，看你多蠢！",
        "宠物懒洋洋地伸了个懒腰，比你还懒！",
        "宠物发出一声轻鸣，嘲笑你这贱货！"
      ];
      let eventMsg = events[Math.floor(Math.random() * events.length)];
      document.getElementById("petEventMessage").innerText = eventMsg;
      setTimeout(() => { document.getElementById("petEventMessage").innerText = ""; }, 5000);
    }

    // 宠物功能
    function petGoToToilet() {
      if (!petReady) { alert("宠物忙着呢，你这蠢货别催！"); return; }
      petToiletStatus = true;
      localStorage.setItem('petToiletStatus', "true");
      document.getElementById("petToiletStatus").innerText = "完成";
      resetPetCooldown();
      alert("宠物已如厕，别再烦我！");
    }
    function petSleep() {
      if (!petReady) { alert("宠物忙着呢，你这废物别吵！"); return; }
      petSleepStatus = true;
      localStorage.setItem('petSleepStatus', "true");
      document.getElementById("petSleepStatus").innerText = "完成";
      resetPetCooldown();
      alert("宠物睡了，你也别偷懒！");
    }
    function petFeeding() {
      if (!petReady) { alert("宠物忙着呢，你这猪别催！"); return; }
      petAffection += 10;
      if (petAffection > 100) petAffection = 100;
      localStorage.setItem('petAffection', petAffection);
      document.getElementById("petAffectionDisplay").innerText = petAffection;
      resetPetCooldown();
      alert("宠物吃饱了，你这废物也得努力！");
    }
    function petWatering() {
      if (!petReady) { alert("宠物忙着呢，你这贱货别烦！"); return; }
      petAffection += 5;
      if (petAffection > 100) petAffection = 100;
      localStorage.setItem('petAffection', petAffection);
      document.getElementById("petAffectionDisplay").innerText = petAffection;
      resetPetCooldown();
      alert("宠物喝水了，你也别闲着！");
    }
    function resetPetStatus() {
      petToiletStatus = false;
      petSleepStatus = false;
      localStorage.setItem('petToiletStatus', "false");
      localStorage.setItem('petSleepStatus', "false");
      document.getElementById("petToiletStatus").innerText = "未完成";
      document.getElementById("petSleepStatus").innerText = "未完成";
      alert("宠物状态重置，你这废物别再搞乱！");
    }

    // 计算机功能
    function appendCalc(value) {
      const display = document.getElementById("calcDisplay");
      display.value += value;
    }
    function calculateResult() {
      const display = document.getElementById("calcDisplay");
      try {
        const result = eval(display.value);
        display.value = result || "0";
      } catch (e) {
        display.value = "错误，你这蠢货算错了吧！";
        setTimeout(clearCalc, 1000);
      }
    }
    function clearCalc() {
      document.getElementById("calcDisplay").value = "";
    }

    // 如厕申请
    function applyToilet() {
      if (points < 50) {
        document.getElementById("toiletStatus").innerText = "积分不够50，你这废物没资格上厕所！";
        return;
      }
      if (!stickyNote) {
        document.getElementById("toiletStatus").innerText = "便签没写，你这懒鬼想干嘛？";
        return;
      }
      if (!dailyPlanCompleted) {
        document.getElementById("toiletStatus").innerText = "每日计划没做完，给我憋着！";
        return;
      }
      if (!localStorage.getItem('petToiletStatus') || localStorage.getItem('petToiletStatus') !== "true") {
        document.getElementById("toiletStatus").innerText = "宠物没上厕所，你也别想去！";
        return;
      }
      if (!localStorage.getItem('petSleepStatus') || localStorage.getItem('petSleepStatus') !== "true") {
        document.getElementById("toiletStatus").innerText = "宠物没睡觉，你也别想轻松！";
        return;
      }
      if (petAffection < 30) {
        document.getElementById("toiletStatus").innerText = "宠物讨厌你这废物，不让你去！";
        return;
      } else if (petAffection >= 30 && petAffection <= 70) {
        if (Math.random() > petAffection / 100) {
          document.getElementById("toiletStatus").innerText = "宠物心情不好，滚回去憋着！";
          return;
        }
      }
      points -= 50;
      localStorage.setItem('points', points);
      document.getElementById("points-value").innerText = points;
      if (toiletCount > 0) {
        toiletCount--;
        localStorage.setItem('toiletCount', toiletCount);
        document.getElementById("toiletCount").innerText = toiletCount;
        document.getElementById("toiletStatus").innerText = "申请通过，去吧你这贱货！";
      } else {
        document.getElementById("toiletStatus").innerText = "今天没次数了，给我憋死！";
      }
    }

    // 随机惩罚任务
    function randomPunishment() {
      const punishment = punishments[Math.floor(Math.random() * punishments.length)];
      document.getElementById("punishmentResult").innerText = "随机任务: " + punishment;
    }

    // 哥哥说话功能
    function brotherSpeak() {
      const msg = brotherMessages[Math.floor(Math.random() * brotherMessages.length)];
      document.getElementById("brotherMessage").innerText = "哥哥：" + msg;
      alert("哥哥说：" + msg);
    }
  </script>
</body>
</html>
​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​
